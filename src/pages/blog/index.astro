---
import Layout from '../../layouts/Layout.astro';
import { getCollection } from 'astro:content';

const posts = await getCollection('blog');
---

<Layout title="Blog">
  <h1 class="text-3xl font-bold my-6">Blog</h1>
  <div class="grid gap-6">
    {posts.map(post => (
      <a href={`/blog/${post.slug}/`} class="block p-6 rounded-xl bg-gradient-to-br from-indigo-500 to-purple-500 shadow-lg hover:scale-105 transition-transform text-white">
        <h2 class="text-2xl font-bold mb-2">{post.data.title}</h2>
        <p class="opacity-90">{post.data.description}</p>
        <div class="mt-4 text-sm opacity-75">
          {new Date(post.data.pubDate).toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' })}
        </div>
      </a>
    ))}
  </div>
</Layout>
